<!DOCTYPE html>
<html>

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="/stylesheets/style.css">
	<title>사용자 인증</title>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
	<script type="text/javascript">
	$(()=>{
		$("#btnAllow").click((e)=>{
			location.replace("/auth/grantOK");
		});

		$("#btnDeny").click((e)=>{
			var redirect_uri = "<%= sess.redirect_uri %>";
			var state = "<%= sess.state %>";
			var error_description = "User denied your app.";
			location.replace(redirect_uri + "?error=access_denied&error_description=" + error_description + "&state=" + state);
		});
	});
	</script>
</head>

<body>
	<div style="text-align:center;">하기 앱이 사용자 정보에 접근하려고 합니다.<br>
		허용하시겠습니까?
		<br>
		앱 정보<br>
		앱 이름 : Client 1<br>
		권한 요청 범위 : scope<br>
		<button type="button" class="btn btn-primary" name="btnAllow" id="btnAllow">허용</button>
		<button type="button" class="btn btn-danger" name="btnDeny" id="btnDeny">거부</button>
	</div>
	<form method="POST" action="aaa" style="display:hidden">

	</form>
</body>

</html>
